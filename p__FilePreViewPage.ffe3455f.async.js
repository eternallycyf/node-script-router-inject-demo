(self["webpackChunk"]=self["webpackChunk"]||[]).push([[1],{44226:function(e){e.exports={iframeStyle:"iframeStyle___18zBl",ExcelTable2007:"ExcelTable2007___EpS4L",heading:"heading___1_YtG"}},6361:function(e,t,a){"use strict";var n=a(11849),r=a(73120),s=a(53961),i=a(30703),c=a(36836),o=a(85893),l="mxPB";t["Z"]=e=>(0,o.jsx)(r.D,{"data-inspector-line":"8","data-inspector-column":"4","data-inspector-relative-path":"src/components/MarkDown/index.tsx",children:e.markdown,remarkPlugins:[c.Z],components:{code(t){var a=t.inline,r=t.className,c=t.children,p=/language-(\w+)/.exec(r||"");return!a&&p?(0,o.jsx)(s.Z,(0,n.Z)((0,n.Z)({"data-inspector-line":"16","data-inspector-column":"12","data-inspector-relative-path":"src/components/MarkDown/index.tsx",children:String(c).replace(/\n$/,""),style:i.Z,language:p[1],showLineNumbers:!0,PreTag:"div"},e),{},{_nk:"".concat(l,"21")})):(0,o.jsx)("code",(0,n.Z)((0,n.Z)({"data-inspector-line":"26","data-inspector-column":"12","data-inspector-relative-path":"src/components/MarkDown/index.tsx",className:r},e),{},{_nk:"".concat(l,"31"),children:c}))}},_nk:"".concat(l,"11")})},85071:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});a(58024);var n=a(91894),r=(a(25126),a(41001)),s=(a(84494),a(98824)),i=(a(57663),a(71577)),c=(a(9715),a(16579)),o=a(2824),l=(a(71194),a(48889)),p=(a(34792),a(55026)),d=a(67294),u=(a(12968),a(62462)),x=(a(71748),a(90860)),h=a(90636),m=a(3182),y=a(44226),f=a.n(y),w=a(94184),g=a.n(w),v=a(5058),k=a.n(v),F=a(24756),j=a(16795),b=a(6361),P=a(85893),Z="3nXW",_=["txt","json","js","css","java","py","html","jsx","ts","tsx","xml","md","log"];class V extends d.PureComponent{constructor(e){var t;super(e),t=this,this.showPDFBySrc=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(a){return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t.setState({loading:!0}),t.setState({pdfSrc:a,loading:!1})}catch(n){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.dataURItoBlob=e=>{for(var t=e.split(",")[0].split(":")[1].split(";")[0],a=atob(e.split(",")[1]),n=new ArrayBuffer(a.length),r=new Uint8Array(n),s=0;s<a.length;s++)r[s]=a.charCodeAt(s);return new Blob([r],{type:t})},this.readBuffer=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(t){return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(((e,a)=>{var n=new FileReader;n.onload=t=>e(t.target.result),n.onerror=e=>a(e),n.readAsArrayBuffer(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.readText=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(t){return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(((e,a)=>{var n=new FileReader;n.onload=t=>e(t.target.result),n.onerror=e=>a(e),n.readAsText(new Blob([t]),"utf-8")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.showPDFByBase64=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(a){var n,r,s,i,c;return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.props.fileType,r=t.dataURItoBlob(a),s=URL.createObjectURL(r),t.setState({pdfSrc:s,loading:!1}),!_.includes(n)){e.next=12;break}return e.next=7,t.readBuffer(r);case 7:return i=e.sent,e.next=10,t.readText(i);case 10:c=e.sent,t.setState({text:c});case 12:"docx"==n&&(0,j.renderAsync)(r,document.getElementById("file-preview-modal"),null,{className:"docx",inWrapper:!0,ignoreWidth:!1,ignoreHeight:!1,ignoreFonts:!1,breakPages:!0,ignoreLastRenderedPageBreak:!0,experimental:!1,trimXmlDeclaration:!0,debug:!1});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.state={pdfSrc:"",loading:!0,text:""}}componentDidMount(){var e=this.props,t=e.src,a=e.base64;t?this.showPDFBySrc(t):a&&this.showPDFByBase64(a)}componentwillUnmount(){URL.revokeObjectURL(this.state.pdfSrc)}render(){var e=this.props,t=e.styles,a=e.className,n=e.fileType,r=e.txtFileTypes,s=e.excelData,i=this.state,c=i.loading,o=i.pdfSrc,l=i.text,p="".concat(o);if(c)return(0,P.jsx)(x.Z,{"data-inspector-line":"144","data-inspector-column":"13","data-inspector-relative-path":"src/components/File/FileView.tsx",loading:!0,paragraph:{rows:10},active:!0,_nk:"".concat(Z,"11")});if("docx"==n)return null;if("xlsx"==n)return(0,P.jsx)(F.OutTable,{"data-inspector-line":"153","data-inspector-column":"8","data-inspector-relative-path":"src/components/File/FileView.tsx",data:s.rows,columns:s.cols,tableClassName:f().ExcelTable2007,tableHeaderRowClass:f().heading,_nk:"".concat(Z,"21")});if("png"==n||"jpg"==n)return(0,P.jsx)(u.Z,{"data-inspector-line":"163","data-inspector-column":"13","data-inspector-relative-path":"src/components/File/FileView.tsx",src:p,_nk:"".concat(Z,"31")});if(r.includes(n)){var d="\n~~~".concat(n,"\n").concat(l,"\n~~~\n");return(0,P.jsx)(b.Z,{"data-inspector-line":"172","data-inspector-column":"13","data-inspector-relative-path":"src/components/File/FileView.tsx",markdown:d,_nk:"".concat(Z,"41")})}return"pdf"==n?(0,P.jsx)("iframe",{"data-inspector-line":"177","data-inspector-column":"8","data-inspector-relative-path":"src/components/File/FileView.tsx",className:g()(f().iframeStyle,a),style:t,src:p,title:"pdf\u9884\u89c8",_nk:"".concat(Z,"51")}):(0,P.jsx)(k(),{"data-inspector-line":"187","data-inspector-column":"6","data-inspector-relative-path":"src/components/File/FileView.tsx",title:"\u9884\u89c8",className:g()(f().iframeStyle,a),style:t,fileType:n,filePath:p,unsupportedComponent:"\u4e0d\u652f\u6301",_nk:"".concat(Z,"61")})}}var S=V,B="3kX0",R=["txt","json","js","css","java","py","html","jsx","ts","tsx","xml","md","log"],T=["docx","xlsx","png","jpg","pdf",...R];class D extends d.PureComponent{constructor(e){super(e),this.pdfViewRef=d.createRef(),this.controlIsShow=e=>{var t=this.state.modalVisible,a=e.src,n=e.base64,r=e.originFileObj,s=r.name,i=s.slice(s.lastIndexOf(".")+1).toLowerCase();if(!T.includes(i))return p.default.error("\u8be5\u6587\u4ef6\u4e0d\u652f\u6301\u9884\u89c8");"xlsx"==i&&(0,F.ExcelRenderer)(r,((e,t)=>{this.setState({excelData:{cols:t.cols,rows:t.rows}})})),this.setState({modalVisible:!t,src:a,base64:n,fileType:i})},this.state={modalVisible:!1,fileType:"",excelData:{cols:[],rows:[]}}}render(){var e=this.state,t=e.modalVisible,a=e.src,n=e.base64,r=e.fileType,s=e.excelData;return(0,P.jsx)(l.Z,{"data-inspector-line":"69","data-inspector-column":"6","data-inspector-relative-path":"src/components/File/FilePreView.tsx",visible:t,title:r+" \u9884\u89c8",onCancel:()=>{this.setState({modalVisible:!1})},width:1200,bodyStyle:{overflow:"scroll",height:"70vh"},footer:null,destroyOnClose:!0,_nk:"".concat(B,"11"),children:(0,P.jsx)("div",{"data-inspector-line":"82","data-inspector-column":"8","data-inspector-relative-path":"src/components/File/FilePreView.tsx",id:"file-preview-modal",_nk:"".concat(B,"21"),children:(0,P.jsx)(S,{"data-inspector-line":"83","data-inspector-column":"10","data-inspector-relative-path":"src/components/File/FilePreView.tsx",ref:this.pdfViewRef,src:a,base64:n,fileType:r,excelData:s,txtFileTypes:R,styles:{height:"600px"},_nk:"".concat(B,"31")})})})}}var C=D,L=a(67265),A=[{key:"1",type:"docx"},{key:"2",type:"xlsx"},{key:"3",type:"png"},{key:"4",type:"jpg"},{key:"5",type:"pdf"},{key:"6",type:"txt"},{key:"7",type:"json"},{key:"8",type:"js"},{key:"9",type:"css"},{key:"10",type:"java"},{key:"11",type:"py"},{key:"12",type:"html"},{key:"13",type:"jsx"},{key:"14",type:"ts"},{key:"15",type:"tsx"},{key:"16",type:"xml"},{key:"17",type:"md"},{key:"18",type:"log"}],U=[{title:"\u7c7b\u578b",dataIndex:"\u7c7b\u578b",key:"key",render:()=>"\u652f\u6301\u7c7b\u578b"},{title:"\u63cf\u8ff0",dataIndex:"type",key:"type"}],I="3H8c",N=e=>Array.isArray(e)?e:null===e||void 0===e?void 0:e.fileList,E=(e,t)=>{var a=new FileReader;a.addEventListener("load",(()=>t(a.result))),a.readAsDataURL(e)},O=()=>{var e=(0,d.useRef)(null),t=c.Z.useForm(),a=(0,o.Z)(t,1),l=a[0],p=t=>{var a=t.originFileObj;E(a,(t=>{e.current.controlIsShow({base64:t,originFileObj:a})}))};return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(L.ZP,{"data-inspector-line":"41","data-inspector-column":"6","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",_nk:"".concat(I,"11"),children:(0,P.jsxs)(n.Z,{"data-inspector-line":"42","data-inspector-column":"8","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",style:{margin:24},_nk:"".concat(I,"21"),children:[(0,P.jsxs)(c.Z,{"data-inspector-line":"43","data-inspector-column":"10","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",form:l,_nk:"".concat(I,"31"),children:[(0,P.jsx)("h2",{"data-inspector-line":"44","data-inspector-column":"12","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",_nk:"".concat(I,"41"),children:"\u70b9\u51fb\u6587\u4ef6\u540d\u5373\u53ef\u9884\u89c8"}),(0,P.jsx)(c.Z.Item,{"data-inspector-line":"45","data-inspector-column":"12","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",valuePropName:"fileList",getValueFromEvent:N,_nk:"".concat(I,"51"),children:(0,P.jsx)(s.Z,{"data-inspector-line":"46","data-inspector-column":"14","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",onPreview:e=>p(e),beforeUpload:()=>!1,name:"file",maxCount:10,_nk:"".concat(I,"61"),children:(0,P.jsx)(i.Z,{"data-inspector-line":"54","data-inspector-column":"16","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",_nk:"".concat(I,"71"),children:"\u4e0a\u4f20word excel pdf \u56fe\u7247\u7b49\u683c\u5f0f"})})})]}),(0,P.jsx)(C,{"data-inspector-line":"58","data-inspector-column":"10","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",ref:e,_nk:"".concat(I,"81")}),(0,P.jsx)(r.Z,{"data-inspector-line":"59","data-inspector-column":"10","data-inspector-relative-path":"src/pages/FilePreViewPage/index.tsx",pagination:!1,dataSource:A,columns:U,_nk:"".concat(I,"91")}),";"]})})})},M=O}}]);